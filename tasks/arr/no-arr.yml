---

## Title: tasks/arr/deluge.yml
## Description: Deploy deluge to a docker swarm
## Author: Joseph Harry <findarato@gmail.com>
## Copyright: Joseph Harry <findarato@gmail.com>
## Date: 2025-10-26 15:35:12
##
## This program is free software; you can redistribute it and/or modify
## it under the terms of the GNU General Public License as published by
## the Free Software Foundation; either version 2 of the License, or
## (at your option) any later version.
## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.
## You should have received a copy of the GNU General Public License along
## with this program; if not, write to the Free Software Foundation, Inc.
## 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.


#      ▄████  ██▓     █    ██ ▓█████▄▄▄█████▓ █    ██  ███▄    █ 
#     ██▒ ▀█▒▓██▒     ██  ▓██▒▓█   ▀▓  ██▒ ▓▒ ██  ▓██▒ ██ ▀█   █ 
#    ▒██░▄▄▄░▒██░    ▓██  ▒██░▒███  ▒ ▓██░ ▒░▓██  ▒██░▓██  ▀█ ██▒
#    ░▓█  ██▓▒██░    ▓▓█  ░██░▒▓█  ▄░ ▓██▓ ░ ▓▓█  ░██░▓██▒  ▐▌██▒
#    ░▒▓███▀▒░██████▒▒▒█████▓ ░▒████▒ ▒██▒ ░ ▒▒█████▓ ▒██░   ▓██░
#     ░▒   ▒ ░ ▒░▓  ░░▒▓▒ ▒ ▒ ░░ ▒░ ░ ▒ ░░   ░▒▓▒ ▒ ▒ ░ ▒░   ▒ ▒ 
#      ░   ░ ░ ░ ▒  ░░░▒░ ░ ░  ░ ░  ░   ░    ░░▒░ ░ ░ ░ ░░   ░ ▒░
#    ░ ░   ░   ░ ░    ░░░ ░ ░    ░    ░       ░░░ ░ ░    ░   ░ ░ 
#          ░     ░  ░   ░        ░  ░           ░              ░ 




- name: Remove and Update gluetun Container
  community.docker.docker_swarm_service:
    name: gluetun
    image: "qmcgaw/gluetun:{{ gluetun_release}}"
    hostname: gluetun
    force_update: true
    state: absent
  tags:
    - no_arr


- name: Remove and Update deluge Container
  community.docker.docker_swarm_service:
    name: deluge
    image: lscr.io/linuxserver/deluge:latest
    hostname: deluge
    force_update: true
    state: absent
  tags:
    - no_arr

- name: Remove and Update sonarr Container
  community.docker.docker_swarm_service:
    name: sonarr
    image: lscr.io/linuxserver/sonarr:latest
    hostname: sonarr
    force_update: true
    state: absent
  tags:
    - no_arr

- name: 'Remove Gluetun Network'
  community.docker.docker_network:
    name: 'gluetun_private'
    driver: 'overlay'
    internal: true
    attachable: true
    state: absent
  tags:
    - no_arr